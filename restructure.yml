service:
  # Whether to run the application as a polling service.
  enable: false
  # Polling interval in seconds.
  interval: 30

# Compression characteristics
compression:
  # Compression type: none, zip or gzip
  type: gzip
  # Compression Factory class
  # factory: org.radarbase.hdfs.compression.CompressionFactory
  # Additional compression properties
  # properties: {}

# File format
format:
  # Format type: CSV or JSON
  type: csv
  # Whether to deduplicate the files in each topic by default
  deduplication:
    enable: true
    # Use specific fields to consider records distinct. Disregarded if empty.
    # distinctFields: []
    # Ignore specific fields to consider records distinct. Disregarded if empty.
    # ignoreFields: []
  # Format factory class
  # factory: org.radarbase.hdfs.format.FormatFactory
  # Additional format properties
  # properties: {}

# Worker settings
worker:
  # Maximum number of files and converters to keep open while processing
  cacheSize: 300
  # Number of threads to do processing on
  numThreads: 2
  # Maximum number of files to process in any given topic.
  maxFilesPerTopic: null

# Path settings
paths:
  # Input directories in HDFS
  inputs:
    - /testIn
  # Root temporary directory for local file processing.
  temp: ./output/+tmp
  # Output directory
  output: /output
  # Output path construction factory
  factory: org.radarbase.output.path.MonthlyObservationKeyPathFactory
  # Additional properties
  # properties: {}

# Individual topic configuration
topics:
  # topic name
  connect_fitbit_source:
    # deduplicate this topic, regardless of the format settings
    deduplication:
      enable: true
      # deduplicate this topic only using given fields.
      distinctFields: [key.sourceId, value.time]
  # topic name
  connect_fitbit_source2:
    # deduplicate this topic, regardless of the format settings
    deduplication:
      enable: true
      # deduplicate this topic without regard of given fields.
      ignoreFields: [value.timeReceived]
  connect_fitbit_bad:
    # Do not process this topic
    exclude: true
  biovotion_acceleration:
    # Disable deduplication
    deduplication:
      enable: false

source:
  type: s3
  s3:
    endpoint: http://localhost:9000
    bucket: radar
    accessToken: minioadmin
    secretKey: minioadmin

target:
  type: s3
  s3:
    endpoint: http://localhost:9000
    bucket: out
    accessToken: minioadmin
    secretKey: minioadmin

